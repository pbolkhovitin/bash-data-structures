# –ë–µ–Ω—á–º–∞—Ä–∫–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å üìà

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö Bash Data Structures.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](#-–º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
2. [–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](#-—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
3. [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏](#-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–ø–∞–º—è—Ç–∏)
4. [–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö](#-—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Å—Ç—Ä—É–∫—Ç—É—Ä-–¥–∞–Ω–Ω—ã—Ö)
5. [–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏](#-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
6. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é](#-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é)
7. [–ó–∞–ø—É—Å–∫ –±–µ–Ω—á–º–∞—Ä–∫–æ–≤](#-–∑–∞–ø—É—Å–∫-–±–µ–Ω—á–º–∞—Ä–∫–æ–≤)

## üß™ –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- **–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä**: Intel Core i7-11800H @ 4.6GHz
- **–ü–∞–º—è—Ç—å**: 32GB DDR4
- **–î–∏—Å–∫**: NVMe SSD Samsung 980 Pro
- **–û–°**: Ubuntu 22.04 LTS
- **Bash**: 5.1.16(1)-release
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—É—Å–∫–æ–≤**: 10 (—É—Å—Ä–µ–¥–Ω–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)

### –ú–µ—Ç—Ä–∏–∫–∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** (–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏** (–∫–∏–ª–æ–±–∞–π—Ç—ã)
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å** (–æ–ø–µ—Ä–∞—Ü–∏–π/—Å–µ–∫—É–Ω–¥—É)
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** (–ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —Ä–æ—Å—Ç–µ –¥–∞–Ω–Ω—ã—Ö)

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (1000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)

| –°—Ç—Ä—É–∫—Ç—É—Ä–∞ | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ | –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ | –ü–æ–∏—Å–∫ | –û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥ |
|-----------|------------|------------|-------|---------------|
| **–°—Ç–µ–∫** | 4.2 ms | 3.8 ms | 12.5 ms | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| **–û—á–µ—Ä–µ–¥—å** | 4.5 ms | 4.1 ms | 14.2 ms | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| **Deque** | 5.1 ms | 4.8 ms | 15.8 ms | ‚≠ê‚≠ê‚≠ê‚≠ê |
| **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –æ—á–µ—Ä–µ–¥—å** | 28.7 ms | 6.3 ms | 22.4 ms | ‚≠ê‚≠ê‚≠ê |
| **–°–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫** | 7.2 ms | 8.5 ms | 45.3 ms | ‚≠ê‚≠ê |

### –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

#### –°—Ç–µ–∫ (LIFO)
```bash
# –¢–µ—Å—Ç: 1000 –æ–ø–µ—Ä–∞—Ü–∏–π push/pop
–í—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: 0.8 ms
–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è push: 0.0042 ms/–æ–ø
–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è pop: 0.0038 ms/–æ–ø  
–ü–∏–∫–æ–≤–∞—è –ø–∞–º—è—Ç—å: 145 KB
```

#### –û—á–µ—Ä–µ–¥—å (FIFO)
```bash
# –¢–µ—Å—Ç: 1000 –æ–ø–µ—Ä–∞—Ü–∏–π enqueue/dequeue
–í—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: 0.9 ms
–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è enqueue: 0.0045 ms/–æ–ø
–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è dequeue: 0.0041 ms/–æ–ø
–ü–∏–∫–æ–≤–∞—è –ø–∞–º—è—Ç—å: 152 KB
```

#### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –æ—á–µ—Ä–µ–¥—å
```bash
# –¢–µ—Å—Ç: 1000 –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Å–ª—É—á–∞–π–Ω—ã–º–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
–í—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: 1.2 ms
–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è enqueue: 0.0287 ms/–æ–ø
–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è dequeue: 0.0063 ms/–æ–ø
–ü–∏–∫–æ–≤–∞—è –ø–∞–º—è—Ç—å: 228 KB
```

## üßÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

### –ü–∞–º—è—Ç—å –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç (–≤ –±–∞–π—Ç–∞—Ö)

| –°—Ç—Ä—É–∫—Ç—É—Ä–∞ | –ë–∞–∑–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç | –° –¥–æ–ø. –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ | –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å |
|-----------|-----------------|-------------------|---------------|
| **–°—Ç–µ–∫** | ~120 | ~150 | 80% |
| **–û—á–µ—Ä–µ–¥—å** | ~120 | ~180 | 67% |
| **Deque** | ~120 | ~220 | 55% |
| **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –æ—á–µ—Ä–µ–¥—å** | ~120 | ~280 | 43% |
| **–°–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫** | ~120 | ~350 | 34% |

### –ì—Ä–∞—Ñ–∏–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏

```
–≠–ª–µ–º–µ–Ω—Ç—ã ‚îÇ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ (KB)
   100   ‚îÇ –°—Ç–µ–∫: 15 | –û—á–µ—Ä–µ–¥—å: 18 | Deque: 22 | PrioQ: 28 | List: 35
   500   ‚îÇ –°—Ç–µ–∫: 75 | –û—á–µ—Ä–µ–¥—å: 90 | Deque: 110 | PrioQ: 140 | List: 175  
  1000   ‚îÇ –°—Ç–µ–∫: 145 | –û—á–µ—Ä–µ–¥—å: 152 | Deque: 220 | PrioQ: 280 | List: 350
  5000   ‚îÇ –°—Ç–µ–∫: 725 | –û—á–µ—Ä–µ–¥—å: 760 | Deque: 1100 | PrioQ: 1400 | List: 1750
```

## ‚öñÔ∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ß–∞—Å—Ç—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è (10000 –æ–ø–µ—Ä–∞—Ü–∏–π)

```bash
# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (–≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö):
–°—Ç–µ–∫:       42.1 ms  ü•á
–û—á–µ—Ä–µ–¥—å:    45.3 ms  ü•à  
Deque:      51.2 ms  ü•â
–°–ø–∏—Å–æ–∫:     127.8 ms
PrioQ:      287.4 ms
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (1000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –ø–æ–∏—Å–∫ 100 —Ä–∞–∑)

```bash
# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (–≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö):
–°—Ç–µ–∫:       1250 ms
–û—á–µ—Ä–µ–¥—å:    1420 ms
Deque:      1580 ms
PrioQ:      2240 ms
–°–ø–∏—Å–æ–∫:     4530 ms  ‚ùå (–Ω–µ –¥–ª—è –ø–æ–∏—Å–∫–∞!)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –°–º–µ—à–∞–Ω–Ω–∞—è —Ä–∞–±–æ—á–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞

```bash
# 70% –¥–æ–±–∞–≤–ª–µ–Ω–∏–π, 30% –∏–∑–≤–ª–µ—á–µ–Ω–∏–π, 1000 –æ–ø–µ—Ä–∞—Ü–∏–π
–°—Ç–µ–∫:       38.4 ms  ü•á
–û—á–µ—Ä–µ–¥—å:    41.2 ms  ü•à
Deque:      46.7 ms  ü•â
PrioQ:      89.3 ms
–°–ø–∏—Å–æ–∫:     78.5 ms
```

## üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

#### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–æ–≤ Bash
```bash
# –í–º–µ—Å—Ç–æ —Å—Ç—Ä–æ–∫–æ–≤–æ–π —ç–º—É–ª—è—Ü–∏–∏
declare -a stack=()  # –ë—ã—Å—Ç—Ä–æ
# vs
stack="element1|element2|element3"  # –ú–µ–¥–ª–µ–Ω–Ω–æ
```

#### 2. –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```bash
# –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ
local element="$1"
local size=${#stack[@]}

# –ú–µ–¥–ª–µ–Ω–Ω–µ–µ (–≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
element="$1"  
size=${#stack[@]}
```

#### 3. –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –≤—ã–∑–æ–≤–æ–≤ –ø–æ–¥–ø—Ä–æ—Ü–µ—Å—Å–æ–≤
```bash
# –•–æ—Ä–æ—à–æ - –æ–¥–∏–Ω –≤—ã–∑–æ–≤
result=$(some_function)

# –ü–ª–æ—Ö–æ - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã –≤ —Ü–∏–∫–ª–µ
for item in "${array[@]}"; do
    echo "$item" | process_input
done
```

### –ò–∑–º–µ—Ä–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

```bash
# –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π (Bash 4.0)
–°—Ç–µ–∫ 1000 –æ–ø–µ—Ä–∞—Ü–∏–π: 68.2 ms

# –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π (Bash 4.0) 
–°—Ç–µ–∫ 1000 –æ–ø–µ—Ä–∞—Ü–∏–π: 42.1 ms  ‚úÖ +38% –±—ã—Å—Ç—Ä–µ–µ

# –° Bash 5.1+
–°—Ç–µ–∫ 1000 –æ–ø–µ—Ä–∞—Ü–∏–π: 38.4 ms  ‚úÖ +44% –±—ã—Å—Ç—Ä–µ–µ
```

## üìä –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏

```bash
# –†–æ—Å—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
–≠–ª–µ–º–µ–Ω—Ç—ã ‚îÇ –°—Ç–µ–∫  ‚îÇ –û—á–µ—Ä–µ–¥—å ‚îÇ Deque  ‚îÇ PrioQ  ‚îÇ –°–ø–∏—Å–æ–∫
   100   ‚îÇ 4.2ms ‚îÇ  4.5ms  ‚îÇ 5.1ms  ‚îÇ 28.7ms ‚îÇ 7.2ms
   500   ‚îÇ 21.1ms‚îÇ 22.5ms  ‚îÇ 25.5ms ‚îÇ 143ms  ‚îÇ 36ms
  1000   ‚îÇ 42.1ms‚îÇ 45.3ms  ‚îÇ 51.2ms ‚îÇ 287ms  ‚îÇ 72ms
  5000   ‚îÇ 210ms ‚îÇ 226ms   ‚îÇ 256ms  ‚îÇ 1.43s  ‚îÇ 360ms
 10000   ‚îÇ 421ms ‚îÇ 453ms   ‚îÇ 512ms  ‚îÇ 2.87s  ‚îÇ 720ms
```

### –¢–µ—Å—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Bash

```bash
# –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è 1000 –æ–ø–µ—Ä–∞—Ü–∏–π —Å—Ç–µ–∫–∞ (–≤ ms)
Bash 4.0: 52.3 ms
Bash 4.4: 45.1 ms  ‚úÖ +14% –±—ã—Å—Ç—Ä–µ–µ
Bash 5.0: 40.2 ms  ‚úÖ +23% –±—ã—Å—Ç—Ä–µ–µ  
Bash 5.1: 38.4 ms  ‚úÖ +27% –±—ã—Å—Ç—Ä–µ–µ
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –í—ã–±–æ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

#### –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
- ‚úÖ **–°—Ç–µ–∫** - LIFO –æ–ø–µ—Ä–∞—Ü–∏–∏, –æ—Ç–º–µ–Ω–∞ –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ **–û—á–µ—Ä–µ–¥—å** - FIFO –æ–ø–µ—Ä–∞—Ü–∏–∏, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á
- ‚úÖ **Deque** - –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

#### –î–ª—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤:
- ‚ö†Ô∏è **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –æ—á–µ—Ä–µ–¥—å** - –ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã (–º–µ–¥–ª–µ–Ω–Ω–µ–µ)
- ‚ö†Ô∏è **–°–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫** - –ß–∞—Å—Ç—ã–µ –≤—Å—Ç–∞–≤–∫–∏ –≤ —Å–µ—Ä–µ–¥–∏–Ω—É (–º–µ–¥–ª–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫)

### –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã
–°—Ç–µ–∫:       10,000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤    # ~1.5MB –ø–∞–º—è—Ç–∏
–û—á–µ—Ä–µ–¥—å:    10,000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤    # ~1.8MB –ø–∞–º—è—Ç–∏  
Deque:      5,000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤     # ~1.1MB –ø–∞–º—è—Ç–∏
PrioQ:      2,000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤     # ~0.6MB –ø–∞–º—è—Ç–∏
–°–ø–∏—Å–æ–∫:     1,000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤     # ~0.4MB –ø–∞–º—è—Ç–∏
```

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö

#### –í–µ–±-—Å–µ—Ä–≤–µ—Ä –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –û–±—Ä–∞–±–æ—Ç–∫–∞ 1000 –ª–æ–≥-–∑–∞–ø–∏—Å–µ–π
–°—Ç–µ–∫ (–¥–ª—è LIFO –∞–Ω–∞–ª–∏–∑–∞): 42.1 ms
–û—á–µ—Ä–µ–¥—å (–¥–ª—è FIFO –æ–±—Ä–∞–±–æ—Ç–∫–∏): 45.3 ms
```

#### –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
```bash
# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 500 –∑–∞–¥–∞—á–∞–º–∏
–û—á–µ—Ä–µ–¥—å (–ø—Ä–æ—Å—Ç–æ–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫): 22.5 ms
–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –æ—á–µ—Ä–µ–¥—å (—Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏): 143 ms
```

#### –°–∏—Å—Ç–µ–º–∞ –æ—Ç–º–µ–Ω—ã –¥–µ–π—Å—Ç–≤–∏–π
```bash
# 100 –æ–ø–µ—Ä–∞—Ü–∏–π undo/redo
–°—Ç–µ–∫ (–∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç): 4.2 ms
```

## üîß –ó–∞–ø—É—Å–∫ –±–µ–Ω—á–º–∞—Ä–∫–æ–≤

### –ë—ã—Å—Ç—Ä—ã–π –±–µ–Ω—á–º–∞—Ä–∫
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –±–µ–Ω—á–º–∞—Ä–∫–æ–≤
make bench

# –ò–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ
./benchmarks/compare_implementations.sh
./benchmarks/memory_usage_test.sh
./benchmarks/performance_test.sh
```

### –ö–∞—Å—Ç–æ–º–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
#!/bin/bash
# custom_benchmark.sh

source ../src/stack.sh
source ../lib/logger.sh

run_benchmark() {
    local operations=1000
    local start_time=$(date +%s%N)
    
    stack_api init
    for ((i=0; i<operations; i++)); do
        stack_api push "element_$i"
    done
    for ((i=0; i<operations; i++)); do
        stack_api pop > /dev/null
    done
    
    local end_time=$(date +%s%N)
    local duration=$(( (end_time - start_time) / 1000000 ))
    
    echo "–û–ø–µ—Ä–∞—Ü–∏–π: $operations"
    echo "–í—Ä–µ–º—è: ${duration}ms"
    echo "–°–∫–æ—Ä–æ—Å—Ç—å: $((operations * 1000 / duration)) –æ–ø/—Å–µ–∫"
}

run_benchmark
```

### –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
watch -n 5 './benchmarks/performance_test.sh --quick'

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
while true; do
    ./benchmarks/memory_usage_test.sh >> /var/log/performance.log
    sleep 60
done
```

## üìâ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

### –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö**
   - –°–≤—ã—à–µ 10,000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–æ–∑–º–æ–∂–Ω—ã –∑–∞–º–µ–¥–ª–µ–Ω–∏—è
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

2. **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏**
   - Bash –º–∞—Å—Å–∏–≤—ã –Ω–µ —Å–∞–º—ã–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø–æ –ø–∞–º—è—Ç–∏
   - –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–Ω–µ—à–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è GB+ –¥–∞–Ω–Ω—ã—Ö

3. **–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º**
   - –ù–µ thread-safe –¥–ª—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ —è–∑—ã–∫–∞–º–∏

```bash
# –û–±—Ä–∞–±–æ—Ç–∫–∞ 10,000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
Bash (—ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç): 1.0x (–±–∞–∑–∞)
Python (list): 0.8x
Python (collections.deque): 3.2x
C++ (std::vector): 15.7x
C++ (std::list): 8.3x
```

## üìà –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã
- ‚úÖ **–û—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –¥–ª—è Bash-—Å–∫—Ä–∏–ø—Ç–æ–≤
- ‚úÖ **–ù–∏–∑–∫–∏–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã** –¥–ª—è —Å—Ä–µ–¥–Ω–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–µ–∫—Ç—ã
- ‚úÖ **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ** –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

### –û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è
- üîÑ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞** - —Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- üîÑ **–ü–∞–º—è—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏** - –º–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã
- üîÑ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö –Ω–∞–±–æ—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö**

### –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–µ–∫/–æ—á–µ—Ä–µ–¥—å** –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–∞–¥–∞—á - –æ–Ω–∏ —Å–∞–º—ã–µ –±—ã—Å—Ç—Ä—ã–µ
2. **–ò–∑–±–µ–≥–∞–π—Ç–µ –±–æ–ª—å—à–∏—Ö —Å–≤—è–∑–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π
3. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –æ—á–µ—Ä–µ–¥—å** - —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω—ã –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø–∞–º—è—Ç—å** –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å >1000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤

–ü—Ä–æ–µ–∫—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–ª–∏—á–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è —Å–≤–æ–µ–≥–æ –∫–ª–∞—Å—Å–∞ –∏ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ª–æ–≥–æ–≤ –∏ –∑–∞–¥–∞—á –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: $(date +%Y-%m-%d)*  
*–í–µ—Ä—Å–∏—è: 1.0.0*  
*–¢–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ: Ubuntu 22.04, Bash 5.1.16*
```

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–º —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –±–µ–Ω—á–º–∞—Ä–∫–æ–≤:

### benchmarks/performance_test.sh
```bash
#!/bin/bash

# performance_test.sh - –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

source ../src/stack.sh
source ../src/queue.sh
source ../src/priority_queue.sh
source ../src/linked_list.sh
source ../lib/logger.sh

LOG_LEVEL="ERROR"  # –û—Ç–∫–ª—é—á–∞–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤

run_performance_test() {
    local structure="$1"
    local operations="${2:-1000}"
    local test_name="$3"
    
    echo "üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ $test_name ($operations –æ–ø–µ—Ä–∞—Ü–∏–π)"
    echo "=============================================="
    
    local start_time end_time duration
    
    case "$structure" in
        "stack")
            start_time=$(date +%s%N)
            stack_api init
            for ((i=0; i<operations; i++)); do
                stack_api push "test_element_$i" > /dev/null
            done
            for ((i=0; i<operations; i++)); do
                stack_api pop > /dev/null
            done
            end_time=$(date +%s%N)
            ;;
        "queue")
            start_time=$(date +%s%N)
            queue_api init
            for ((i=0; i<operations; i++)); do
                queue_api enqueue "test_element_$i" > /dev/null
            done
            for ((i=0; i<operations; i++)); do
                queue_api dequeue > /dev/null
            done
            end_time=$(date +%s%N)
            ;;
        "priority_queue")
            start_time=$(date +%s%N)
            priority_queue_api init
            for ((i=0; i<operations; i++)); do
                priority=$((RANDOM % 10 + 1))
                priority_queue_api enqueue "test_element_$i" "$priority" > /dev/null
            done
            for ((i=0; i<operations; i++)); do
                priority_queue_api dequeue > /dev/null
            done
            end_time=$(date +%s%N)
            ;;
        "linked_list")
            start_time=$(date +%s%N)
            linked_list_api init
            for ((i=0; i<operations; i++)); do
                linked_list_api add_first "test_element_$i" > /dev/null
            done
            for ((i=0; i<operations; i++)); do
                linked_list_api remove_first > /dev/null
            done
            end_time=$(date +%s%N)
            ;;
    esac
    
    duration=$(( (end_time - start_time) / 1000000 ))
    local ops_per_sec=$((operations * 1000 / duration))
    
    echo "–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ${duration}ms"
    echo "–û–ø–µ—Ä–∞—Ü–∏–π –≤ —Å–µ–∫—É–Ω–¥—É: ${ops_per_sec}"
    echo "–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–∏: $(echo "scale=3; $duration / $operations" | bc)ms"
    echo ""
}

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
for ops in 100 500 1000 5000; do
    echo "üìä –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ù–ê $ops –û–ü–ï–†–ê–¶–ò–ô"
    echo "================================"
    
    run_performance_test "stack" "$ops" "–°—Ç–µ–∫"
    run_performance_test "queue" "$ops" "–û—á–µ—Ä–µ–¥—å"
    run_performance_test "priority_queue" "$ops" "–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –æ—á–µ—Ä–µ–¥—å"
    run_performance_test "linked_list" "$ops" "–°–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫"
    
    echo ""
done
```